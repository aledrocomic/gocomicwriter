# Example environment configuration for gcwserver
# Copy to .env and adjust as needed

# Database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/gocomicwriter?sslmode=disable
# Alternative preferred var (server uses GCW_PG_DSN if set)
GCW_PG_DSN=postgres://postgres:postgres@localhost:5432/gocomicwriter?sslmode=disable

# Server address
ADDR=:8080
# or: PORT=8080

# TLS (optional for dev)
GCW_TLS_ENABLE=false
GCW_TLS_CERT_FILE=./certs/localhost.crt
GCW_TLS_KEY_FILE=./certs/localhost.key

# Auth
# dev: token issuance without admin key, subject defaults to "dev"; static: require X-API-Key and ensure user exists
GCW_AUTH_MODE=dev
GCW_AUTH_SECRET=change-this-secret
GCW_ADMIN_API_KEY=change-this-admin-key

# Optional object storage health (MinIO)
GCW_MINIO_ENDPOINT=http://localhost:9000
# Alternatively set an explicit health URL
# GCW_OBJECT_HEALTH_URL=http://localhost:9000/minio/health/ready
# Require object storage to be healthy for /readyz to be 200
GCW_OBJECT_HEALTH_REQUIRED=false

# Example environment configuration for gcwserver
# Copy to .env and adjust as needed

# Database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/gocomicwriter?sslmode=disable
# Alternative preferred var (server uses GCW_PG_DSN if set)
GCW_PG_DSN=postgres://postgres:postgres@localhost:5432/gocomicwriter?sslmode=disable

# Server address
ADDR=:8080
# or: PORT=8080

# TLS (optional for dev)
GCW_TLS_ENABLE=false
GCW_TLS_CERT_FILE=./certs/localhost.crt
GCW_TLS_KEY_FILE=./certs/localhost.key

# Auth
# dev: token issuance without admin key, subject defaults to "dev"; static: require X-API-Key and ensure user exists
GCW_AUTH_MODE=dev
GCW_AUTH_SECRET=change-this-secret
GCW_ADMIN_API_KEY=change-this-admin-key

# Optional object storage health (MinIO)
GCW_MINIO_ENDPOINT=http://localhost:9000
# Alternatively set an explicit health URL
# GCW_OBJECT_HEALTH_URL=http://localhost:9000/minio/health/ready
# Require object storage to be healthy for /readyz to be 200
GCW_OBJECT_HEALTH_REQUIRED=false

# --- Desktop app telemetry (opt-in; default OFF) ---
# Set these to enable anonymous usage metrics and optional crash uploads from the desktop app.
# If URLs are unset, nothing is sent, even if GCW_TELEMETRY_OPT_IN=1.
#GCW_TELEMETRY_OPT_IN=1
#GCW_TELEMETRY_URL=https://your.endpoint.example/telemetry
#GCW_CRASH_UPLOAD_URL=https://your.endpoint.example/crash
#GCW_TELEMETRY_TIMEOUT_MS=1500
#GCW_TELEMETRY_DEBUG=1
